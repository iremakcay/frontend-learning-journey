{"ast":null,"code":"var _jsxFileName = \"/Users/iremakcay/Projects/stock/src/App.js\";\nimport React, { Component } from \"react\";\nimport upward from \"./upward-trend-flat.png\";\nimport downward from \"./downward-trend-flat.png\";\nimport \"./App.css\";\nimport FeatureItem from \"./FeatureItem/FeatureItem.js\";\nimport ChartComponent from \"./Chart/Chart.js\";\nexport default class App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      stocks: [],\n      chartData: {\n        prices: [],\n        labels: []\n      }\n    };\n\n    this.componentDidMount = () => {\n      const weatherURL = `https://www.worldtradingdata.com/api/v1/stock?symbol=BIMAS.IS,CRFSA.IS,SOKM.IS,MGROS.IS&api_token=juX9iGOEqRdzYSrtjQerwXJUI6KqtonttI4KkqdIhmyAIa0OK0gDTk9OLLLV`;\n      fetch(weatherURL).then(res => res.json()).then(response => {\n        const stocksArray = response.data;\n        const prices = [];\n        const labels = [];\n        const stocks = [];\n\n        for (var i = 0; i < stocksArray.length; i++) {\n          const currentStock = stocksArray[i];\n          stocks.push({\n            name: currentStock.name,\n            price: {\n              amount: currentStock.price,\n              currency: currentStock.currency\n            },\n            change: {\n              isDecreased: currentStock.day_change.includes(\"-\"),\n              value: currentStock.day_change,\n              pct: currentStock.change_pct\n            },\n            image: {\n              src: stock.change.value.includes(\"-\") ? downward : upward,\n              color: stock.change.value.includes(\"-\") ? \"red\" : \"green\"\n            }\n          });\n          prices.push(currentStock.price);\n          labels.push(currentStock.name);\n        }\n\n        this.setState({\n          stocks,\n          chartData: {\n            labels,\n            prices\n          }\n        }, () => {\n          console.log(this.state);\n        });\n      });\n    };\n  }\n\n  render() {\n    const {\n      stocks,\n      chartData\n    } = this.state;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, stocks.map((stock, index) => React.createElement(FeatureItem, {\n      key: index,\n      src: stock.image.src,\n      symbol: stock.price.currency,\n      name: stock.name,\n      price: stock.price.amount,\n      day_change: stock.change.value,\n      change_pct: stock.change.pct,\n      color: stock.image.color,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(ChartComponent, Object.assign({}, chartData, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }))));\n  }\n\n}","map":{"version":3,"sources":["/Users/iremakcay/Projects/stock/src/App.js"],"names":["React","Component","upward","downward","FeatureItem","ChartComponent","App","state","stocks","chartData","prices","labels","componentDidMount","weatherURL","fetch","then","res","json","response","stocksArray","data","i","length","currentStock","push","name","price","amount","currency","change","isDecreased","day_change","includes","value","pct","change_pct","image","src","stock","color","setState","console","log","render","map","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport upward from \"./upward-trend-flat.png\";\nimport downward from \"./downward-trend-flat.png\";\nimport \"./App.css\";\nimport FeatureItem from \"./FeatureItem/FeatureItem.js\";\nimport ChartComponent from \"./Chart/Chart.js\";\n\nexport default class App extends Component {\n  state = {\n    stocks: [],\n    chartData: {\n      prices: [],\n      labels: []\n    }\n  };\n  componentDidMount = () => {\n    const weatherURL = `https://www.worldtradingdata.com/api/v1/stock?symbol=BIMAS.IS,CRFSA.IS,SOKM.IS,MGROS.IS&api_token=juX9iGOEqRdzYSrtjQerwXJUI6KqtonttI4KkqdIhmyAIa0OK0gDTk9OLLLV`;\n    fetch(weatherURL)\n      .then(res => res.json())\n      .then(response => {\n        const stocksArray = response.data;\n        const prices = [];\n        const labels = [];\n        const stocks = [];\n        for (var i = 0; i < stocksArray.length; i++) {\n          const currentStock = stocksArray[i];\n\n          stocks.push({\n            name: currentStock.name,\n            price: {\n              amount: currentStock.price,\n              currency: currentStock.currency\n            },\n            change: {\n              isDecreased: currentStock.day_change.includes(\"-\"),\n              value: currentStock.day_change,\n              pct: currentStock.change_pct\n            },\n            image: {\n              src: stock.change.value.includes(\"-\") ? downward : upward,\n              color: stock.change.value.includes(\"-\") ? \"red\" : \"green\"\n            }\n          });\n          prices.push(currentStock.price);\n          labels.push(currentStock.name);\n        }\n\n        this.setState(\n          {\n            stocks,\n            chartData: {\n              labels,\n              prices\n            }\n          },\n          () => {\n            console.log(this.state);\n          }\n        );\n      });\n  };\n  render() {\n    const { stocks, chartData } = this.state;\n\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          {stocks.map((stock, index) => (\n            <FeatureItem\n              key={index}\n              src={stock.image.src}\n              symbol={stock.price.currency}\n              name={stock.name}\n              price={stock.price.amount}\n              day_change={stock.change.value}\n              change_pct={stock.change.pct}\n              color={stock.image.color}\n            />\n          ))}\n\n          <ChartComponent {...chartData} />\n        </header>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}